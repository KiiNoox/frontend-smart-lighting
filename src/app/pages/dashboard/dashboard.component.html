<style>

  .icon {
    position: absolute;
    left: 20px;
  }
  .btn-green {
    background: #1abc9c;
    border-bottom: 2px solid #12ab8d;
    box-shadow: inset 0 -2px #12ab8d;
    width: 200px;
    margin: 50px auto;
    padding: 10px 20px;
    text-align: center;
  }
  .btn-green .icon {
    width: 24px;
    height: 24px;
    transition: all 0.4s ease-in-out;
  }
  .btn-green:hover .icon {
    transform: rotate(360deg) scale(1.2);
  }
  .alert-text{
  font-size: 1.1rem;
 }
 .card{
  height: 240px;
 }
</style>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css" rel="stylesheet">
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js"></script>
  <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.48.0/mapbox-gl.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.48.0/mapbox-gl.css' rel='stylesheet' />
  <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.2.0/mapbox-gl-geocoder.min.js'></script>
  <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.2.0/mapbox-gl-geocoder.css' type='text/css' />
  <script src='https://npmcdn.com/mapbox-gl-circle/dist/mapbox-gl-circle.min.js'></script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css" rel="stylesheet">
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js"></script>
</head>
<div class="row">
  <div class="col-lg-3 col-md-6 col-sm-6">
    <div class="card card-stats">
      <div class="card-body ">
        <div class="row">
          <div style="display: block">
            <canvas baseChart
                    [data]="[nbactif,nbinactif]"
                    [labels]="doughnutChartLabels"
                    [chartType]="doughnutChartType"
                    [colors]="chartColors2"
            >
            </canvas>
          </div>

          <div class="col-7 col-md-8">

          </div>
        </div>
      </div>
      <div class="card-footer ">
        <hr>
        <div class="stats">
          <i></i> {{'Streetlights Status' | translate}}
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-3 col-md-6 col-sm-6">
    <div class="card card-stats">
      <div class="card-body ">
        <div class="row">
          <div class="col-5 col-md-4">
            <div class="icon-big text-center icon-warning">
              <i class="nc-icon nc-tablet-2 text-success"></i>
            </div>
          </div>
          <div class="col-7 col-md-8">
            <div class="numbers">
              <p class="card-category">{{'Device Allowed' | translate}}</p>
              <p class="card-title">
                {{nbtotaldedevicereste}}
              <p>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer "style="height: 84px" >
        <hr>
        <div class="stats">
          <i class="fa fa-calendar-o"></i>  {{'Last day' | translate}}
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-3 col-md-6 col-sm-6">
    <div class="card card-stats">
      <div class="card-body ">
        <div class="row">
          <div class="col-5 col-md-4">
            <div class="icon-big text-center icon-warning">
              <i class="nc-icon nc-vector text-danger"></i>
            </div>
          </div>
          <div class="col-7 col-md-8">
            <div class="numbers">
              <p class="card-category">{{'Alerts' | translate}}</p>
             <div *ngIf="alert">    
             <span class="card-title alert-text">{{ nbalert }} {{ nbalert === 1 ? 'Alert' : 'Alerts' }}</span><br>
              <span class="card-title alert-text">{{ nbConnectibvityAlert }} {{ nbConnectibvityAlert === 1 ? 'Connectivity Alert ' : 'Connectivity Alerts' }}</span>
              </div>
              <div *ngIf="!alert">    
                <p class="card-title">There is no alert<p>
                 </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer "style="height: 84px" >
        <hr>
        <div class="stats">
          <i class="fa fa-clock-o"></i> {{'All Alerts' | translate}}
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-3 col-md-6 col-sm-6">
    <div class="card card-stats">
      <div class="card-body ">
        <div class="row">
          <div style="display: block">
            <canvas baseChart
                    [data]="[nbsite,nbligne,nbdevice]"
                    [labels]="pieChartLabels"
                    [chartType]="pieChartType"
                    [colors]="chartColors">
            </canvas>
          </div>

          <div class="col-7 col-md-8">

          </div>
        </div>
      </div>
      <div class="card-footer ">
        <hr>
        <div class="stats">
          <i ></i> {{'Statistics' | translate}}
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-md-12">
    <div class="card ">
      <div class="card-header ">
        <h5 class="card-title">{{"Energy Consumption" | translate}}</h5>
      </div>
      <div class="card-body">
        <ngb-tabset>

          <ngb-tab title=""  fullWidth>
            <ng-template ngbTabTitle>
              <div (click)="t()">{{'One Day' | translate}}</div>
            </ng-template>
            <ng-template  ngbTabContent>
              <div class="row" id="test5">

                <span style="margin-left:  983px; color:grey">
                  {{"Total Day Consumption" | translate}}: <input type="text" [(ngModel)]="consommation"   disabled/>
                  <button class="btn-green" (click)="refresh()">
                    Reload
                 </button>
                    
                </span>


                <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                <div class="form-group">
                  <div class="row">
                    <div class="col-sm-4">
                      <p style="
          color: #23afdc;">{{"Select Site" | translate}} :
                        <ng-autocomplete formControlName="Area"
                          (click)="send1()"
                          [data]="site"
                          placeholder=""
                          [searchKeyword]="keyword"
                          (selected)='selectEvent($event)'
                          (inputChanged)='onChangeSearch($event)'
                          (inputFocused)='onFocused($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>
                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>
                      </p>

                    </div>
                    <div class="col-sm-4">
                      <p style="
          color: #23afdc;">  {{"Select Line" | translate}}:
                        <ng-autocomplete formControlName="Ligne"
                          (click)="send2()"
                          [data]="Lignedata"
                          [searchKeyword]="keyword"
                          placeholder=""
                          (selected)='selectEvent2($event)'
                          (inputChanged)='onChangeSearch2($event)'
                          (inputFocused)='onFocused2($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>

                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>
                      </p>
                    </div>
                    <div class="col-sm-4">
                      <p style="
          color: #23afdc;">  {{"Select Device" | translate}} :


                        <ng-autocomplete formControlName="Device"
                          (click)="send3()"
                          [data]="Devicedata"
                          [searchKeyword]="keyword"
                          placeholder=""
                          (selected)='selectEvent3($event)'
                          (inputChanged)='onChangeSearch3($event)'
                          (inputFocused)='onFocused3($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>

                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>

                      </p>
                    </div>
                    <div class="col-sm-12">
                      <span class="input-group-addon">{{"choose day" | translate}} :</span>&nbsp;&nbsp;&nbsp;
                      <input type='date' [(ngModel)]="OneDay"  formControlName="date" />
                      <button type="button" value="Click" (click)="getoneday()"  class="btn btn-info btn-flat">  {{"Display" | translate}} </button>
                      <button type="button" value="Click" (click)="fct()"   class="btn btn-info btn-flat"> {{"Export as excel" | translate}}</button>
                    </div>


                  </div>


                </div>
                </form>
                <div  class="row">




                </div>
              </div>

              <div >
                <canvas id="canvasss" width="500" height="100">{{ barchart }}</canvas>
              </div>


            </ng-template>
          </ngb-tab>
          <ngb-tab title="" fullWidth>
            <ng-template ngbTabTitle>
              <div (click)="t()">{{'Month' | translate}}</div>
            </ng-template>
            <ng-template ngbTabContent>
              <div class="row" id="test4">

                <span style="margin-left: 983px ;color:grey"> {{"Total Month Consumption" | translate}}  :<input type="text" [(ngModel)]="consommation"   disabled/>
                 <button class="btn-green" (click)="refresh()">
                         Reload
                      </button>
                </span>

                <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                <div class="form-group">
                  <div class="row">
                    <div class="col-sm-4">
                      <p style="
          color: #23afdc;">{{"Select Site" | translate}}:

                        <ng-autocomplete formControlName="Area"
                          (click)="send1()"
                          [data]="site"
                          placeholder=""
                          [searchKeyword]="keyword"
                          (selected)='selectEvent($event)'
                          (inputChanged)='onChangeSearch($event)'
                          (inputFocused)='onFocused($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>
                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>
                      </p>

                    </div>
                    <div class="col-sm-4">
                      <p style="
          color: #23afdc;">{{"Select Line" | translate}}:
                        <ng-autocomplete formControlName="Ligne"
                          (click)="send2()"
                          [data]="Lignedata"
                          [searchKeyword]="keyword"
                          placeholder=""
                          (selected)='selectEvent2($event)'
                          (inputChanged)='onChangeSearch2($event)'
                          (inputFocused)='onFocused2($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>

                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>
                      </p>
                    </div>
                    <div class="col-sm-4">
                      <p style="
          color: #23afdc;">{{"Select Device" | translate}} :


                        <ng-autocomplete formControlName="Device"
                          (click)="send3()"
                          [data]="Devicedata"
                          [searchKeyword]="keyword"
                          placeholder=""
                          (selected)='selectEvent3($event)'
                          (inputChanged)='onChangeSearch3($event)'
                          (inputFocused)='onFocused3($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>

                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>

                      </p>
                    </div>
                    <div class="col-sm-12">
                      <span class="input-group-addon">{{"Choose a Month" | translate}}:</span>&nbsp;&nbsp;&nbsp;
                      &nbsp;&nbsp;&nbsp;  <input type='month' [(ngModel)]="month" formControlName="date2" />
                      <button type="button" value="Click" (click)="getmonth()" id='btnn' class="btn btn-info btn-flat">{{"Display" | translate}} </button>
                      <button type="button" value="Click" (click)="fct()"   class="btn btn-info btn-flat"> {{"Export as excel" | translate}}</button><br><br>
                    </div>


                  </div>


                </div>
                </form>
                <div  class="row">




                </div></div>
              <div >       <canvas id="canvas1" width="500" height="100">{{ barchartm }}</canvas></div>


            </ng-template>
          </ngb-tab>
          <ngb-tab title="" fullWidth>
            <ng-template ngbTabTitle>
              <div (click)="t()">{{'Year' | translate}}</div>
            </ng-template>
            <ng-template ngbTabContent>
              <div class="row" id="test3">

                <span style="margin-left: 983px;  color:grey"> {{"Total Year Consumption" | translate}}  :   <input type="text" [(ngModel)]="consommation"   disabled/>
                 <button class="btn-green" (click)="refresh()">
                       Reload
                      </button>
                </span>
                <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                <div class="form-group">
                  <div class="row">
                    <div class="col-sm-4">
                      <p style="
          color: #23afdc;">  {{"Select Site" | translate}}:

                        <ng-autocomplete formControlName="Area"
                          (click)="send1()"
                          [data]="site"
                          placeholder=""
                          [searchKeyword]="keyword"
                          (selected)='selectEvent($event)'
                          (inputChanged)='onChangeSearch($event)'
                          (inputFocused)='onFocused($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>
                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>
                      </p>

                    </div>
                    <div class="col-sm-4">
                      <p style="
          color: #23afdc;"> {{"Select Line" | translate}}:
                        <ng-autocomplete formControlName="Ligne"
                          (click)="send2()"
                          [data]="Lignedata"
                          [searchKeyword]="keyword"
                          placeholder=""
                          (selected)='selectEvent2($event)'
                          (inputChanged)='onChangeSearch2($event)'
                          (inputFocused)='onFocused2($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>

                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>
                      </p>
                    </div>
                    <div class="col-sm-4">
                      <p style="
          color: #23afdc;">{{"Select Device" | translate}} :


                        <ng-autocomplete formControlName="Device"
                          (click)="send3()"
                          [data]="Devicedata"
                          [searchKeyword]="keyword"
                          placeholder=""
                          (selected)='selectEvent3($event)'
                          (inputChanged)='onChangeSearch3($event)'
                          (inputFocused)='onFocused3($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>

                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>

                      </p>
                    </div>




                    <div class="col-sm-12">
                      <span class="input-group-addon"> {{"Choose a Year" | translate}}:</span>&nbsp;&nbsp;&nbsp;
                      <input type="text" formControlName="date3"
                             style="width: 100px"
                             class="form-control"
                             bsDatepicker
                             minMode="year"
                             [(ngModel)]="year "
                      >
                      <button type="button" value="Click" (click)="getyear()" id='bttnn' class="btn btn-info btn-flat"> {{"Display" | translate}}</button>
                      <button type="button" value="Click" (click)="fct()"   class="btn btn-info btn-flat">  {{"Export as excel" | translate}}</button><br><br>
                    </div>


                  </div>


                </div>
                </form>
              </div>

              <div >       <canvas id="canvas2" width="500" height="100">{{ barcharty }}</canvas></div>


            </ng-template>
          </ngb-tab>
          <ngb-tab title="" fullWidth>
            <ng-template ngbTabTitle>
              <div (click)="t()">{{'Total' | translate}}</div>
            </ng-template>
            <ng-template ngbTabContent>
              <div class="row" id="test14">
                <button class="btn-green" (click)="refresh()">
                   Reload
                </button>
                <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                <div class="form-group">
                  <div class="row">
                    <div class="col-sm-4" style="left:80px">
                      <p style="
          color: #23afdc;">{{"Select Site" | translate}}:

                        <ng-autocomplete formControlName="Area"
                          (click)="send1()"
                          [data]="site"
                          placeholder=""
                          [searchKeyword]="keyword"
                          (selected)='selectEvent($event)'
                          (inputChanged)='onChangeSearch($event)'
                          (inputFocused)='onFocused($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>
                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>
                      </p>

                    </div>
                    <div class="col-sm-4" style="left:80px">
                      <p style="
          color: #23afdc;">  {{"Select Line" | translate}}:
                        <ng-autocomplete formControlName="Ligne"
                          (click)="send2()"
                          [data]="Lignedata"
                          [searchKeyword]="keyword"
                          placeholder=""
                          (selected)='selectEvent2($event)'
                          (inputChanged)='onChangeSearch2($event)'
                          (inputFocused)='onFocused2($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>

                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>
                      </p>
                    </div>
                    <div class="col-sm-4" style="left:80px">
                      <p style="
          color: #23afdc;">  {{"Select Device" | translate}}:


                        <ng-autocomplete formControlName="Device"
                          (click)="send3()"
                          [data]="Devicedata"
                          [searchKeyword]="keyword"
                          placeholder=""
                          (selected)='selectEvent3($event)'
                          (inputChanged)='onChangeSearch3($event)'
                          (inputFocused)='onFocused3($event)'
                          [itemTemplate]="itemTemplate"
                          [notFoundTemplate]="notFoundTemplate">
                        </ng-autocomplete>

                        <ng-template #itemTemplate let-item>
                          <a [innerHTML]="item.name"></a>
                        </ng-template>

                        <ng-template #notFoundTemplate let-notFound>
                          <div [innerHTML]="notFound"></div>
                        </ng-template>

                      </p>
                    </div>
                    <div class="col-sm-4">
                    </div>


                    <div class="col-sm-4">
                      <button type="button" value="Click" (click)="gettotal()" id='tnn' class="btn btn-info btn-flat"> {{"Display" | translate}}</button>
                      <button type="button" value="Click" (click)="fct()"   class="btn btn-info btn-flat">  {{"Export as excel" | translate}} </button><br><br>
                    </div>



                  </div>


                </div>
                </form>
                <div  class="row">




                </div></div>
              <div >       <canvas id="canvas3" width="500" height="100">{{ barcharttotal }}</canvas></div>


            </ng-template>
          </ngb-tab>
        </ngb-tabset>
      </div>


      <div class="col-md-12">
        <div class="card card-chart">
          <div class="card-header">
            <h5 class="card-title">{{"Price" | translate}}</h5>
            <p class="card-category"></p>
          </div>

          <div class="card-body">
            <ngb-tabset>

              <ngb-tab title="" fullWidth>
                <ng-template ngbTabTitle>
                  <div (click)="t()">{{'One Day' | translate}}</div>
                </ng-template>
                <ng-template ngbTabContent>
                  <div class="row" id="testq5">

                    <span style="margin-left: 800px; color:grey"><button class="btn-green" (click)="refresh()">
                      Reload
                    </button>&ensp;
         {{"Total price" | translate}}   : <input type="text" placeholder="millimes" disabled [(ngModel)]="consommationp"  />
                    
                    </span>

                    <div class="form-group">
                      <div class="row">

                        <div class="col-sm-4">
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">

                          <p style="
          color: #23afdc;">{{'Select Site' | translate }} :

                            <ng-autocomplete formControlName="Area"
                              (click)="send1()"
                              [data]="site"
                              placeholder=""
                              [searchKeyword]="keyword"
                              (selected)='selectEvent($event)'
                              (inputChanged)='onChangeSearch($event)'
                              (inputFocused)='onFocused($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>
                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>
                          </p>
                          </form>
                        </div>
                        <div class="col-sm-4">
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                          <p style="
          color: #23afdc;"> {{'Select Line' | translate }}  :
                            <ng-autocomplete formControlName="Ligne"
                              (click)="send2()"
                              [data]="Lignedata"
                              [searchKeyword]="keyword"
                              placeholder=""
                              (selected)='selectEvent2($event)'
                              (inputChanged)='onChangeSearch2($event)'
                              (inputFocused)='onFocused2($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>

                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>
                          </p>
                          </form>
                        </div>
                        <div class="col-sm-4">
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                          <p style="
          color: #23afdc;"> {{'Select Device' | translate }}  :


                            <ng-autocomplete formControlName="Device"
                              (click)="send3()"
                              [data]="Devicedata"
                              [searchKeyword]="keyword"
                              placeholder=""
                              (selected)='selectEvent3($event)'
                              (inputChanged)='onChangeSearch3($event)'
                              (inputFocused)='onFocused3($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>

                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>

                          </p>
                          </form>
                        </div>

                        <div class="col-sm-4">

                          <span class="input-group-addon">{{'Choose a day' | translate }} :</span>&nbsp;&nbsp;&nbsp;

                          &nbsp;&nbsp;&nbsp;  <input type='date' [(ngModel)]="OneDayp"   /></div>
                        <div class="col-sm-4">

                          <span class="input-group-addon" >{{"Enter price" | translate}} : <input type="text" placeholder="en millimes" [(ngModel)]="price"  /></span></div>

                        <div class="col-sm-4">
                          <button type="button" value="Click" (click)="getonedayprice()" id='batn' class="btn btn-info btn-flat"> {{"Display" | translate}}</button>
                          <button   value="Click" [routerLink]="['/facture']"   class="btn btn-info btn-flat"> {{'Check Bill' | translate }} </button><br><br>
                        </div>


                      </div>


                    </div>

                    <div  class="row">




                    </div></div>
                  <div >       <canvas id="canvasp1" width="500" height="100">{{ barchartp1 }}</canvas></div>


                </ng-template>
              </ngb-tab>
              <ngb-tab title="" fullWidth>
                <ng-template ngbTabTitle>
                  <div (click)="t()">{{'Month' | translate}}</div>
                </ng-template>
                <ng-template ngbTabContent>
                  <div class="row" id="testa4">

                    <span style="margin-left: 950px; color:grey">  {{"Total price" | translate}} : <input type="text" placeholder="millimes" disabled [(ngModel)]="consommationpm"  />
                     <button class="btn-green" (click)="refresh()">
                      Reload
                    </button>
                    </span>

                    <div class="form-group">
                      <div class="row">
                        <div class="col-sm-4">
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                          <p style="
          color: #23afdc;">{{'Select Site' | translate }} :

                            <ng-autocomplete formControlName="Area"
                              (click)="send1()"
                              [data]="site"
                              placeholder=""
                              [searchKeyword]="keyword"
                              (selected)='selectEvent($event)'
                              (inputChanged)='onChangeSearch($event)'
                              (inputFocused)='onFocused($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>
                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>
                          </p>
                          </form>
                        </div>
                        <div class="col-sm-4">
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                          <p style="
          color: #23afdc;"> {{'Select Line' | translate }}  :
                            <ng-autocomplete formControlName="Ligne"
                              (click)="send2()"
                              [data]="Lignedata"
                              [searchKeyword]="keyword"
                              placeholder=""
                              (selected)='selectEvent2($event)'
                              (inputChanged)='onChangeSearch2($event)'
                              (inputFocused)='onFocused2($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>

                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>
                          </p>
                          </form>
                        </div>
                        <div class="col-sm-4">
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                          <p style="
          color: #23afdc;"> {{'Select Device' | translate }}  :


                            <ng-autocomplete formControlName="Device"
                              (click)="send3()"
                              [data]="Devicedata"
                              [searchKeyword]="keyword"
                              placeholder=""
                              (selected)='selectEvent3($event)'
                              (inputChanged)='onChangeSearch3($event)'
                              (inputFocused)='onFocused3($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>

                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>

                          </p>
                          </form>
                        </div>
                        <div class="col-sm-4">

                          <span class="input-group-addon">{{'Choose a Month' | translate }} :</span>&nbsp;&nbsp;&nbsp;

                          &nbsp;&nbsp;&nbsp;  <input type='month' [(ngModel)]="monthp"  /></div>
                        <div class="col-sm-4">

                          <span class="input-group-addon" >{{"Enter price" | translate}} : <input type="text" placeholder="en millimes" [(ngModel)]="price"  /></span></div>


                        <div class="col-sm-4">

                          <button type="button" value="Click" (click)="getmonthprice()" id='btvvnn' class="btn btn-info btn-flat"> {{"Display" | translate}}</button>
                          <button  value="Click" type="submit" [routerLink]="['/facture']"   class="btn btn-info btn-flat"> {{'device.Check Bill' | translate }} </button><br><br>

                        </div>


                      </div>


                    </div>
                    <div  class="row">




                    </div></div>
                  <div >       <canvas id="canvasp2" width="500" height="100">{{ barchartp2 }}</canvas></div>


                </ng-template>
              </ngb-tab>
              <ngb-tab title="" fullWidth>
                <ng-template ngbTabTitle>
                  <div (click)="t()">{{'Year' | translate}}</div>
                </ng-template>
                <ng-template ngbTabContent>
                  <div class="row" id="testc3">

                    <span style="margin-left: 950px; color:grey"> {{"Total price" | translate}}  : <input type="text" placeholder="millimes" disabled [(ngModel)]="consommationpy"  />
                     <button class="btn-green" (click)="refresh()">
                      Reload
                    </button>
                    </span>

                    <div class="form-group">
                      <div class="row">
                        <div class="col-sm-4">
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">

                          <p style="
          color: #23afdc;">{{'Select Site' | translate }} :

                            <ng-autocomplete formControlName="Area"
                              (click)="send1()"
                              [data]="site"
                              placeholder=""
                              [searchKeyword]="keyword"
                              (selected)='selectEvent($event)'
                              (inputChanged)='onChangeSearch($event)'
                              (inputFocused)='onFocused($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>
                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>
                          </p>
                          </form>
                        </div>
                        <div class="col-sm-4">
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                          <p style="
          color: #23afdc;"> {{'Select Line' | translate }}  :
                            <ng-autocomplete formControlName="Ligne"
                              (click)="send2()"
                              [data]="Lignedata"
                              [searchKeyword]="keyword"
                              placeholder=""
                              (selected)='selectEvent2($event)'
                              (inputChanged)='onChangeSearch2($event)'
                              (inputFocused)='onFocused2($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>

                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>
                          </p>
                          </form>
                        </div>
                        <div class="col-sm-4">
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                          <p style="
          color: #23afdc;"> {{'Select Device' | translate }}  :


                            <ng-autocomplete formControlName="Device"
                              (click)="send3()"
                              [data]="Devicedata"
                              [searchKeyword]="keyword"
                              placeholder=""
                              (selected)='selectEvent3($event)'
                              (inputChanged)='onChangeSearch3($event)'
                              (inputFocused)='onFocused3($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>

                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>

                          </p>
                          </form>
                        </div>
                        <div class="col-sm-4">

                          <span class="input-group-addon">{{'Choose a Year' | translate }} :</span>&nbsp;&nbsp;&nbsp;


                          <input type="text"
                                 class="form-control"
                                 bsDatepicker
                                 minMode="year"
                                 [(ngModel)]="yearp "
                                 style="width:300px"
                          >
                        </div>
                        <div class="col-sm-4">

                          <span class="input-group-addon" > {{"Enter price" | translate}}  : <input type="text" placeholder="en millimes" [(ngModel)]="price"  /></span></div>


                        <div class="col-sm-4">
                          <button type="button" value="Click" (click)="getyearprice()" id='btqtnn' class="btn btn-info btn-flat">{{"Display" | translate}}  </button>
                          <button  value="Click" type="submit" [routerLink]="['/facture']"   class="btn btn-info btn-flat"> {{'device.Check Bill' | translate }} </button><br><br>

                        </div>


                      </div>


                    </div>
                  </div>
                  <div >       <canvas id="canvasp3" width="500" height="100">{{ barchartp3 }}</canvas></div>


                </ng-template>
              </ngb-tab>
              <ngb-tab title="" fullWidth>
                <ng-template ngbTabTitle>
                  <div (click)="t()">{{'Total' | translate}}</div>
                </ng-template>

                <ng-template ngbTabContent>
                  <div class="row" id="test1w4">
                    <span style="margin-left: 950px; color:grey">  {{"Total price" | translate}} : <input type="text" placeholder="millimes" disabled [(ngModel)]="consommationpt"  />
                     <button class="btn-green" (click)="refresh()">
                      Reload
                    </button>
                    </span>
                    <div class="form-group">
                      <div class="row">
                        <div class="col-sm-4" >
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">

                          <p style="
          color: #23afdc;">{{'Select Site' | translate }} :

                            <ng-autocomplete formControlName="Area"
                              (click)="send1()"
                              [data]="site"
                              placeholder=""
                              [searchKeyword]="keyword"
                              (selected)='selectEvent($event)'
                              (inputChanged)='onChangeSearch($event)'
                              (inputFocused)='onFocused($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>
                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>
                          </p>
                          </form>
                        </div>
                        <div class="col-sm-4">
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">
                          <p style="
          color: #23afdc;"> {{'Select Line' | translate }}  :
                            <ng-autocomplete formControlName="Ligne"
                              (click)="send2()"
                              [data]="Lignedata"
                              [searchKeyword]="keyword"
                              placeholder=""
                              (selected)='selectEvent2($event)'
                              (inputChanged)='onChangeSearch2($event)'
                              (inputFocused)='onFocused2($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>

                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>
                          </p>
                          </form>
                        </div>
                        <div class="col-sm-4" >
                          <form class="form-grp"   [formGroup]="areaForm1" (ngSubmit)="refresh()">

                          <p style="
          color: #23afdc;"> {{'Select Device' | translate }}  :


                            <ng-autocomplete formControlName="Device"
                              (click)="send3()"
                              [data]="Devicedata"
                              [searchKeyword]="keyword"
                              placeholder=""
                              (selected)='selectEvent3($event)'
                              (inputChanged)='onChangeSearch3($event)'
                              (inputFocused)='onFocused3($event)'
                              [itemTemplate]="itemTemplate"
                              [notFoundTemplate]="notFoundTemplate">
                            </ng-autocomplete>

                            <ng-template #itemTemplate let-item>
                              <a [innerHTML]="item.name"></a>
                            </ng-template>

                            <ng-template #notFoundTemplate let-notFound>
                              <div [innerHTML]="notFound"></div>
                            </ng-template>

                          </p>
                          </form>
                        </div>

                        <div class="col-sm-4">

                          <span class="input-group-addon" >{{"Enter price" | translate}} : <input type="text" placeholder="en millimes" [(ngModel)]="price"  /></span></div>


                        <div class="col-sm-4">
                          <button type="button" value="Click" (click)="gettotalprice()" id='vtnn' class="btn btn-info btn-flat">{{"Display" | translate}} </button>
                          <button  value="Click" type="submit" [routerLink]="['/facture']"   class="btn btn-info btn-flat"> {{'device.Check Bill' | translate }} </button><br><br>

                        </div>


                      </div>


                    </div>
                    <div  class="row">




                    </div></div>
                  <div >       <canvas id="canvasp4" width="500" height="100">{{ barchartp4 }}</canvas></div>


                </ng-template>
              </ngb-tab>
            </ngb-tabset>
          </div>

      <div class="card-footer ">
        <hr>
        <div class="stats">
          <i class="fa fa-history"></i>
        </div>
      </div>
    </div>
  </div></div>
